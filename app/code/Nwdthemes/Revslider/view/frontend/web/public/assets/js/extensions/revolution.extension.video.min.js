require(["jquery","themepunchTools"],function(e,t){"use strict";function a(e){return void 0==e?-1:jQuery.isNumeric(e)?e:e.split(":").length>1?60*parseInt(e.split(":")[0],0)+parseInt(e.split(":")[1],0):e}var i=jQuery.fn.revolution,o=i.is_mobile(),d=(i.is_android(),{alias:"Video Min JS",name:"revolution.extensions.video.min.js",min_core:"5.4.6.3",version:"2.1.8"});jQuery.extend(!0,i,{preLoadAudio:function(e,t){if("stop"===i.compare_version(d).check)return!1;e.find(".tp-audiolayer").each(function(){var e=jQuery(this),a={};0===e.find("audio").length&&(a.src=void 0!=e.data("videomp4")?e.data("videomp4"):"",a.pre=e.data("videopreload")||"",void 0===e.attr("id")&&e.attr("audio-layer-"+Math.round(199999*Math.random())),a.id=e.attr("id"),a.status="prepared",a.start=jQuery.now(),a.waittime=1e3*e.data("videopreloadwait")||5e3,"auto"!=a.pre&&"canplaythrough"!=a.pre&&"canplay"!=a.pre&&"progress"!=a.pre||(void 0===t.audioqueue&&(t.audioqueue=[]),t.audioqueue.push(a),i.manageVideoLayer(e,t)))})},preLoadAudioDone:function(e,t,a){t.audioqueue&&t.audioqueue.length>0&&jQuery.each(t.audioqueue,function(t,i){e.data("videomp4")!==i.src||i.pre!==a&&"auto"!==i.pre||(i.status="loaded")})},resetVideo:function(e,d,r){var n=e.data();switch(n.videotype){case"youtube":n.player;try{if("on"==n.forcerewind){p=a(e.data("videostartat")),1===n.bgvideo||e.find(".tp-videoposter").length;void 0!=n.player&&(p=-1==p?0:p,n.player.seekTo(p),n.player.pauseVideo())}}catch(e){}0==e.find(".tp-videoposter").length&&1!==n.bgvideo&&!0!==r&&t.TweenLite.to(e.find("iframe"),.3,{autoAlpha:1,display:"block",ease:t.Power3.easeInOut});break;case"vimeo":var l=e.data("vimeoplayer");try{if("on"==n.forcerewind){p=a(n.videostartat),1===n.bgvideo||e.find(".tp-videoposter").length;p=-1==p?0:p,l.seekTo(p),l.pause()}}catch(e){}0==e.find(".tp-videoposter").length&&1!==n.bgvideo&&!0!==r&&t.TweenLite.to(e.find("iframe"),.3,{autoAlpha:1,display:"block",ease:t.Power3.easeInOut});break;case"html5":if(o&&1==n.disablevideoonmobile)return!1;var s="html5"==n.audio?"audio":"video",u=e.find(s),v=u[0];if(t.TweenLite.to(u,.3,{autoAlpha:1,display:"block",ease:t.Power3.easeInOut}),"on"==n.forcerewind&&!e.hasClass("videoisplaying"))try{var p=a(n.videostartat);v.currentTime=-1==p?0:p}catch(e){}("mute"==n.volume||i.lastToggleState(e.videomutetoggledby)||!0===d.globalmute)&&(v.muted=!0)}},isVideoMuted:function(e,t){var a=!1,i=e.data();switch(i.videotype){case"youtube":try{a=i.player.isMuted()}catch(e){}break;case"vimeo":try{"mute"==i.volume&&(a=!0)}catch(e){}break;case"html5":var o="html5"==i.audio?"audio":"video";e.find(o)[0].muted&&(a=!0)}return a},muteVideo:function(e,t){var a=e.data();switch(a.videotype){case"youtube":try{a.player.mute()}catch(e){}break;case"vimeo":try{var i=e.data("vimeoplayer");e.data("volume","mute"),i.setVolume(0)}catch(e){}break;case"html5":var o="html5"==a.audio?"audio":"video";e.find(o)[0].muted=!0}},unMuteVideo:function(e,t){if(!0!==t.globalmute){var a=e.data();switch(a.videotype){case"youtube":try{a.player.unMute()}catch(e){}break;case"vimeo":try{var i=e.data("vimeoplayer");e.data("volume","1"),i.setVolume(1)}catch(e){}break;case"html5":var o="html5"==a.audio?"audio":"video";e.find(o)[0].muted=!1}}},stopVideo:function(e,t){var a=e.data();switch(t.leaveViewPortBasedStop||(t.lastplayedvideos=[]),t.leaveViewPortBasedStop=!1,a.videotype){case"youtube":try{var i=a.player;if(2===i.getPlayerState()||5===i.getPlayerState())return;i.pauseVideo(),a.youtubepausecalled=!0,setTimeout(function(){a.youtubepausecalled=!1},80)}catch(e){console.log("Issue at YouTube Video Pause:"),console.log(e)}break;case"vimeo":try{e.data("vimeoplayer").pause(),a.vimeopausecalled=!0,setTimeout(function(){a.vimeopausecalled=!1},80)}catch(e){console.log("Issue at Vimeo Video Pause:"),console.log(e)}break;case"html5":var o="html5"==a.audio?"audio":"video",d=e.find(o),r=d[0];void 0!=d&&void 0!=r&&r.pause()}},playVideo:function(e,t){clearTimeout(e.data("videoplaywait"));var o=e.data();switch(o.videotype){case"youtube":if(0==e.find("iframe").length)e.append(e.data("videomarkup")),l(e,t,!0);else if(void 0!=o.player.playVideo){var d=a(e.data("videostartat")),n=o.player.getCurrentTime();1==e.data("nextslideatend-triggered")&&(n=-1,e.data("nextslideatend-triggered",0)),-1!=d&&d>n&&o.player.seekTo(d),!0!==o.youtubepausecalled&&o.player.playVideo()}else e.data("videoplaywait",setTimeout(function(){!0!==o.youtubepausecalled&&i.playVideo(e,t)},50));break;case"vimeo":if(0==e.find("iframe").length)e.removeData("vimeoplayer"),e.append(e.data("videomarkup")),l(e,t,!0);else if(e.hasClass("rs-apiready")){var s,u=e.find("iframe").attr("id");e.data("vimeoplayer")?s=e.data("vimeoplayer"):(s=new Vimeo.Player(u),e.data("vimeoplayer",s)),setTimeout(function(){s.play();var t=a(e.data("videostartat")),i=e.data("currenttime");1==e.data("nextslideatend-triggered")&&(i=-1,e.data("nextslideatend-triggered",0)),-1!=t&&t>i&&s.seekTo(t)},510)}else e.data("videoplaywait",setTimeout(function(){!0!==o.vimeopausecalled&&i.playVideo(e,t)},50));break;case"html5":var v="html5"==o.audio?"audio":"video",p=e.find(v),c=p[0];if(1!=p.parent().data("metaloaded"))r(c,"loadedmetadata",function(e){i.resetVideo(e,t),c.play();var o=a(e.data("videostartat")),d=c.currentTime;1==e.data("nextslideatend-triggered")&&(d=-1,e.data("nextslideatend-triggered",0)),-1!=o&&o>d&&(c.currentTime=o)}(e));else{c.play();var d=a(e.data("videostartat")),n=c.currentTime;1==e.data("nextslideatend-triggered")&&(n=-1,e.data("nextslideatend-triggered",0)),-1!=d&&d>n&&(c.currentTime=d)}}},isVideoPlaying:function(e,t){var a=!1;return void 0!=t.playingvideos&&jQuery.each(t.playingvideos,function(t,i){e.attr("id")==i.attr("id")&&(a=!0)}),a},removeMediaFromList:function(e,t){c(e,t)},prepareCoveredVideo:function(e,a,o){var d=o.find("iframe, video"),r=e.split(":")[0],n=e.split(":")[1],l=o.closest(".tp-revslider-slidesli"),s=l.width()/l.height(),u=r/n,v=s/u*100,p=u/s*100;s>u?t.TweenLite.to(d,.001,{height:v+"%",width:"100%",top:-(v-100)/2+"%",left:"0px",position:"absolute"}):t.TweenLite.to(d,.001,{width:p+"%",height:"100%",left:-(p-100)/2+"%",top:"0px",position:"absolute"}),d.hasClass("resizelistener")||(d.addClass("resizelistener"),jQuery(window).resize(function(){clearTimeout(d.data("resizelistener")),d.data("resizelistener",setTimeout(function(){i.prepareCoveredVideo(e,a,o)},30))}))},checkVideoApis:function(e,t,a){location.protocol;if((void 0!=e.data("ytid")||e.find("iframe").length>0&&e.find("iframe").attr("src").toLowerCase().indexOf("youtube")>0)&&(t.youtubeapineeded=!0),(void 0!=e.data("ytid")||e.find("iframe").length>0&&e.find("iframe").attr("src").toLowerCase().indexOf("youtube")>0)&&0==a.addedyt){t.youtubestarttime=jQuery.now(),a.addedyt=1;var i=document.createElement("script");i.src="https://www.youtube.com/iframe_api";var o=document.getElementsByTagName("script")[0],d=!0;jQuery("head").find("*").each(function(){"https://www.youtube.com/iframe_api"==jQuery(this).attr("src")&&(d=!1)}),d&&o.parentNode.insertBefore(i,o)}if((void 0!=e.data("vimeoid")||e.find("iframe").length>0&&e.find("iframe").attr("src").toLowerCase().indexOf("vimeo")>0)&&(t.vimeoapineeded=!0),(void 0!=e.data("vimeoid")||e.find("iframe").length>0&&e.find("iframe").attr("src").toLowerCase().indexOf("vimeo")>0)&&0==a.addedvim){t.vimeostarttime=jQuery.now(),a.addedvim=1;d=!0,jQuery("head").find("*").each(function(){"https://player.vimeo.com/api/player.js"==jQuery(this).attr("src")&&(d=!1)}),d&&require(["https://player.vimeo.com/api/player.js"],function(e){window.Vimeo={Player:e}})}return a},manageVideoLayer:function(e,n,s,u){if("stop"===i.compare_version(d).check)return!1;var p=e.data(),c=p.videoattributes,m=p.ytid,y=p.vimeoid,g="auto"===p.videopreload||"canplay"===p.videopreload||"canplaythrough"===p.videopreload||"progress"===p.videopreload?"auto":p.videopreload,f=p.videomp4,h=p.videowebm,b=p.videoogv,w=p.allowfullscreenvideo,T=p.videocontrols,k="http",x="loop"==p.videoloop?"loop":"loopandnoslidestop"==p.videoloop?"loop":"",V=void 0!=f||void 0!=h?"html5":void 0!=m&&String(m).length>1?"youtube":void 0!=y&&String(y).length>1?"vimeo":"none",L="html5"==p.audio?"audio":"video",P="html5"==V&&0==e.find(L).length?"html5":"youtube"==V&&0==e.find("iframe").length?"youtube":"vimeo"==V&&0==e.find("iframe").length?"vimeo":"none";switch(x=!0===p.nextslideatend?"":x,p.videotype=V,P){case"html5":"controls"!=T&&(T="");L="video";"html5"==p.audio&&(L="audio",e.addClass("tp-audio-html5"));var C="";"video"===L&&(i.is_mobile()||i.isSafari11())&&("on"===p.autoplay||"true"===p.autoplay||!0===p.autoplay?C="muted playsinline autoplay":1!=p.videoinline&&"true"!==p.videoinline&&1!==p.videoinline||(C+=" playsinline"));var I="<"+L+" "+C+' style="object-fit:cover;background-size:cover;visible:hidden;width:100%; height:100%" class="" '+x+' preload="'+g+'">';"auto"==g&&(n.mediapreload=!0),void 0!=h&&"firefox"==i.get_browser().toLowerCase()&&(I=I+'<source src="'+h+'" type="video/webm" />'),void 0!=f&&(I=I+'<source src="'+f+'" type="video/mp4" />'),void 0!=b&&(I=I+'<source src="'+b+'" type="video/ogg" />'),I=I+"</"+L+">";var _="";"true"!==w&&!0!==w||(_='<div class="tp-video-button-wrap"><button  type="button" class="tp-video-button tp-vid-full-screen">Full-Screen</button></div>'),"controls"==T&&(I=I+'<div class="tp-video-controls"><div class="tp-video-button-wrap"><button type="button" class="tp-video-button tp-vid-play-pause">Play</button></div><div class="tp-video-seek-bar-wrap"><input  type="range" class="tp-seek-bar" value="0"></div><div class="tp-video-button-wrap"><button  type="button" class="tp-video-button tp-vid-mute">Mute</button></div><div class="tp-video-vol-bar-wrap"><input  type="range" class="tp-volume-bar" min="0" max="1" step="0.1" value="1"></div>'+_+"</div>"),e.data("videomarkup",I),e.append(I),(o&&1==e.data("disablevideoonmobile")||i.isIE(8))&&e.find(L).remove(),e.find(L).each(function(t){var a=this,o=jQuery(this);o.parent().hasClass("html5vid")||o.wrap('<div class="html5vid" style="position:relative;top:0px;left:0px;width:100%;height:100%; overflow:hidden;"></div>'),1!=o.parent().data("metaloaded")&&r(a,"loadedmetadata",function(e){v(e,n),i.resetVideo(e,n)}(e))});break;case"youtube":k="https","none"==T&&-1==(c=c.replace("controls=1","controls=0")).toLowerCase().indexOf("controls")&&(c+="&controls=0"),(!0===p.videoinline||"true"===p.videoinline||1===p.videoinline||e.hasClass("rs-background-video-layer"))&&(c+="&playsinline=1");var S=a(e.data("videostartat")),j=a(e.data("videoendat"));-1!=S&&(c=c+"&start="+S),-1!=j&&(c=c+"&end="+j);var A=c.split("origin="+k+"://"),O="";A.length>1?(O=A[0]+"origin="+k+"://",self.location.href.match(/www/gi)&&!A[1].match(/www/gi)&&(O+="www."),O+=A[1]):O=c;var M="true"===w||!0===w?"allowfullscreen":"";e.data("videomarkup",'<iframe type="text/html" src="'+k+"://www.youtube.com/embed/"+m+"?"+O+'" '+M+' width="100%" height="100%" style="opacity:0;visibility:hidden;width:100%;height:100%"></iframe>');break;case"vimeo":k="https",e.data("videomarkup",'<iframe src="'+k+"://player.vimeo.com/video/"+y+"?"+c+'" webkitallowfullscreen mozallowfullscreen allowfullscreen width="100%" height="100%" style="opacity:0;visibility:hidden;100%;height:100%"></iframe>')}var Q=o&&"on"==e.data("noposteronmobile");if(void 0!=p.videoposter&&p.videoposter.length>2&&!Q)0==e.find(".tp-videoposter").length&&e.append('<div class="tp-videoposter noSwipe" style="cursor:pointer; position:absolute;top:0px;left:0px;width:100%;height:100%;z-index:3;background-image:url('+p.videoposter+'); background-size:cover;background-position:center center;"></div>'),0==e.find("iframe").length&&e.find(".tp-videoposter").click(function(){if(i.playVideo(e,n),o){if(1==e.data("disablevideoonmobile"))return!1;t.TweenLite.to(e.find(".tp-videoposter"),.3,{autoAlpha:0,force3D:"auto",ease:t.Power3.easeInOut}),t.TweenLite.to(e.find("iframe"),.3,{autoAlpha:1,display:"block",ease:t.Power3.easeInOut})}});else{if(o&&1==e.data("disablevideoonmobile"))return!1;0!=e.find("iframe").length||"youtube"!=V&&"vimeo"!=V||(e.removeData("vimeoplayer"),e.append(e.data("videomarkup")),l(e,n,!1))}"none"!=e.data("dottedoverlay")&&void 0!=e.data("dottedoverlay")&&1!=e.find(".tp-dottedoverlay").length&&e.append('<div class="tp-dottedoverlay '+e.data("dottedoverlay")+'"></div>'),e.addClass("HasListener"),1==e.data("bgvideo")&&t.TweenLite.set(e.find("video, iframe"),{autoAlpha:0})}});var r=function(e,t,a){e.addEventListener?e.addEventListener(t,a,{capture:!1,passive:!0}):e.attachEvent(t,a,{capture:!1,passive:!0})},n=function(e,t,a){var i={};return i.video=e,i.videotype=t,i.settings=a,i},l=function(e,d,r){var l=e.data(),v=e.find("iframe"),m="iframe"+Math.round(1e5*Math.random()+1),y=l.videoloop,g="loopandnoslidestop"!=y;if(y="loop"==y||"loopandnoslidestop"==y,1==e.data("forcecover")&&(e.removeClass("fullscreenvideo").addClass("coverscreenvideo"),void 0!=(f=e.data("aspectratio"))&&f.split(":").length>1&&i.prepareCoveredVideo(f,d,e)),1==e.data("bgvideo")){var f=e.data("aspectratio");void 0!=f&&f.split(":").length>1&&i.prepareCoveredVideo(f,d,e)}if(v.attr("id",m),r&&e.data("startvideonow",!0),1!==e.data("videolistenerexist"))switch(l.videotype){case"youtube":C=new YT.Player(m,{events:{onStateChange:function(o){var r=e.closest(".tp-simpleresponsive"),v=(l.videorate,e.data("videostart"),u());if(o.data==YT.PlayerState.PLAYING)t.TweenLite.to(e.find(".tp-videoposter"),.3,{autoAlpha:0,force3D:"auto",ease:t.Power3.easeInOut}),t.TweenLite.to(e.find("iframe"),.3,{autoAlpha:1,display:"block",ease:t.Power3.easeInOut}),"mute"==e.data("volume")||i.lastToggleState(e.data("videomutetoggledby"))||!0===d.globalmute?C.mute():(C.unMute(),C.setVolume(parseInt(e.data("volume"),0)||75)),d.videoplaying=!0,p(e,d),g?d.c.trigger("stoptimer"):d.videoplaying=!1,d.c.trigger("revolution.slide.onvideoplay",n(C,"youtube",e.data())),i.toggleState(l.videotoggledby);else{if(0==o.data&&y){var m=a(e.data("videostartat"));-1!=m&&C.seekTo(m),C.playVideo(),i.toggleState(l.videotoggledby)}v||0!=o.data&&2!=o.data||!("on"==e.data("showcoveronpause")&&e.find(".tp-videoposter").length>0||1===e.data("bgvideo")&&e.find(".rs-fullvideo-cover").length>0)||(1===e.data("bgvideo")?t.TweenLite.to(e.find(".rs-fullvideo-cover"),.1,{autoAlpha:1,force3D:"auto",ease:t.Power3.easeInOut}):t.TweenLite.to(e.find(".tp-videoposter"),.1,{autoAlpha:1,force3D:"auto",ease:t.Power3.easeInOut}),t.TweenLite.to(e.find("iframe"),.1,{autoAlpha:0,ease:t.Power3.easeInOut})),-1!=o.data&&3!=o.data&&(d.videoplaying=!1,d.tonpause=!1,c(e,d),r.trigger("starttimer"),d.c.trigger("revolution.slide.onvideostop",n(C,"youtube",e.data())),void 0!=d.currentLayerVideoIsPlaying&&d.currentLayerVideoIsPlaying.attr("id")!=e.attr("id")||i.unToggleState(l.videotoggledby)),0==o.data&&1==e.data("nextslideatend")?(s(),e.data("nextslideatend-triggered",1),d.c.revnext(),c(e,d)):(c(e,d),d.videoplaying=!1,r.trigger("starttimer"),d.c.trigger("revolution.slide.onvideostop",n(C,"youtube",e.data())),void 0!=d.currentLayerVideoIsPlaying&&d.currentLayerVideoIsPlaying.attr("id")!=e.attr("id")||i.unToggleState(l.videotoggledby))}},onReady:function(t){var d,r=i.is_mobile(),n=e.hasClass("tp-videolayer");if(r||i.isSafari11()){var s=n&&"off"!==e.data("autoplay");(e.hasClass("rs-background-video-layer")||s)&&(r&&n||(d=!0,C.setVolume(0),e.data("volume","mute"),C.mute(),clearTimeout(e.data("mobilevideotimr")),e.data("mobilevideotimr",setTimeout(function(){C.playVideo()},500))))}d||"mute"!=e.data("volume")||(C.setVolume(0),C.mute());var u=l.videorate;e.data("videostart");if(e.addClass("rs-apiready"),void 0!=u&&t.target.setPlaybackRate(parseFloat(u)),e.find(".tp-videoposter").unbind("click"),e.find(".tp-videoposter").click(function(){o||C.playVideo()}),e.data("startvideonow")){l.player.playVideo();var v=a(e.data("videostartat"));-1!=v&&l.player.seekTo(v)}e.data("videolistenerexist",1)}}});e.data("player",C);break;case"vimeo":for(var h,b=v.attr("src"),w={},T=b,k=/([^&=]+)=([^&]*)/g;h=k.exec(T);)w[decodeURIComponent(h[1])]=decodeURIComponent(h[2]);b=void 0!=w.player_id?b.replace(w.player_id,m):b+"&player_id="+m;try{b=b.replace("api=0","api=1")}catch(e){}var x=i.is_mobile(),V=x||i.isSafari11(),L=e.hasClass("rs-background-video-layer");V&&L&&(b+="&background=1"),v.attr("src",b);var P,C=e.find("iframe")[0];jQuery("#"+m);if(e.data("vimeoplayer")?P=e.data("vimeoplayer"):(P=new Vimeo.Player(m),e.data("vimeoplayer",P)),V){var I;if(L)I=!0;else{var _=e.data("autoplay");"on"!==_&&"true"!==_&&!0!==_||(x&&e.data("autoplay",!1),I=!0)}I&&(P.setVolume(0),e.data("volume","mute"))}e.addClass("rs-apiready"),P.on("play",function(a){e.data("nextslidecalled",0),t.TweenLite.to(e.find(".tp-videoposter"),.3,{autoAlpha:0,force3D:"auto",ease:t.Power3.easeInOut}),t.TweenLite.to(e.find("iframe"),.3,{autoAlpha:1,display:"block",ease:t.Power3.easeInOut}),d.c.trigger("revolution.slide.onvideoplay",n(P,"vimeo",e.data())),d.videoplaying=!0,p(e,d),g?d.c.trigger("stoptimer"):d.videoplaying=!1,"mute"==e.data("volume")||i.lastToggleState(e.data("videomutetoggledby"))||!0===d.globalmute?P.setVolume(0):P.setVolume(parseInt(e.data("volume"),0)/100||.75),i.toggleState(l.videotoggledby)}),P.on("playProgress",function(t){var i=a(e.data("videoendat"));if(e.data("currenttime",t.seconds),0!=i&&Math.abs(i-t.seconds)<.3&&i>t.seconds&&1!=e.data("nextslidecalled"))if(y){P.play();var o=a(e.data("videostartat"));-1!=o&&P.seekTo(o)}else 1==e.data("nextslideatend")&&(e.data("nextslideatend-triggered",1),e.data("nextslidecalled",1),d.c.revnext()),P.pause()}),P.on("finish",function(t){c(e,d),d.videoplaying=!1,d.c.trigger("starttimer"),d.c.trigger("revolution.slide.onvideostop",n(P,"vimeo",e.data())),1==e.data("nextslideatend")&&(e.data("nextslideatend-triggered",1),d.c.revnext()),void 0!=d.currentLayerVideoIsPlaying&&d.currentLayerVideoIsPlaying.attr("id")!=e.attr("id")||i.unToggleState(l.videotoggledby)}),P.on("pause",function(a){("on"==e.data("showcoveronpause")&&e.find(".tp-videoposter").length>0||1===e.data("bgvideo")&&e.find(".rs-fullvideo-cover").length>0)&&(1===e.data("bgvideo")?t.TweenLite.to(e.find(".rs-fullvideo-cover"),.1,{autoAlpha:1,force3D:"auto",ease:t.Power3.easeInOut}):t.TweenLite.to(e.find(".tp-videoposter"),.1,{autoAlpha:1,force3D:"auto",ease:t.Power3.easeInOut}),t.TweenLite.to(e.find("iframe"),.1,{autoAlpha:0,ease:t.Power3.easeInOut})),d.videoplaying=!1,d.tonpause=!1,c(e,d),d.c.trigger("starttimer"),d.c.trigger("revolution.slide.onvideostop",n(P,"vimeo",e.data())),void 0!=d.currentLayerVideoIsPlaying&&d.currentLayerVideoIsPlaying.attr("id")!=e.attr("id")||i.unToggleState(l.videotoggledby)}),e.find(".tp-videoposter").unbind("click"),e.find(".tp-videoposter").click(function(){if(!o)return P.play(),!1}),e.data("startvideonow")&&(P.play(),-1!=(S=a(e.data("videostartat")))&&P.seekTo(S)),e.data("videolistenerexist",1),L&&P.play()}else{var S=a(e.data("videostartat"));switch(l.videotype){case"youtube":r&&(l.player.playVideo(),-1!=S&&l.player.seekTo());break;case"vimeo":r&&((P=e.data("vimeoplayer")).play(),-1!=S&&P.seekTo(S))}}},s=function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()},u=function(){try{if(void 0!==window.fullScreen)return window.fullScreen;var e=5;return jQuery.browser.webkit&&/Apple Computer/.test(navigator.vendor)&&(e=42),screen.width==window.innerWidth&&Math.abs(screen.height-window.innerHeight)<e}catch(e){}},v=function(e,d,l){if(o&&1==e.data("disablevideoonmobile"))return!1;var v=e.data(),m="html5"==v.audio?"audio":"video",y=e.find(m),g=y[0],f=y.parent(),h=v.videoloop,b="loopandnoslidestop"!=h;if(h="loop"==h||"loopandnoslidestop"==h,f.data("metaloaded",1),1!=e.data("bgvideo")||"none"!==v.videoloop&&!1!==v.videoloop||(b=!1),void 0==y.attr("control")&&(0!=e.find(".tp-video-play-button").length||o||e.append('<div class="tp-video-play-button"><i class="revicon-right-dir"></i><span class="tp-revstop">&nbsp;</span></div>'),e.find("video, .tp-poster, .tp-video-play-button").click(function(){e.hasClass("videoisplaying")?g.pause():g.play()})),1==e.data("forcecover")||e.hasClass("fullscreenvideo")||1==e.data("bgvideo"))if(1==e.data("forcecover")||1==e.data("bgvideo")){f.addClass("fullcoveredvideo");var w=e.data("aspectratio")||"4:3";i.setSize(d),i.prepareCoveredVideo(w,d,e)}else f.addClass("fullscreenvideo");var T=e.find(".tp-vid-play-pause")[0],k=e.find(".tp-vid-mute")[0],x=e.find(".tp-vid-full-screen")[0],V=e.find(".tp-seek-bar")[0],L=e.find(".tp-volume-bar")[0];void 0!=T&&r(T,"click",function(){1==g.paused?g.play():g.pause()}),void 0!=k&&r(k,"click",function(){0==g.muted?(g.muted=!0,k.innerHTML="Unmute"):(g.muted=!1,k.innerHTML="Mute")}),void 0!=x&&x&&r(x,"click",function(){g.requestFullscreen?g.requestFullscreen():g.mozRequestFullScreen?g.mozRequestFullScreen():g.webkitRequestFullscreen&&g.webkitRequestFullscreen()}),void 0!=V&&(r(V,"change",function(){var e=g.duration*(V.value/100);g.currentTime=e}),r(V,"mousedown",function(){e.addClass("seekbardragged"),g.pause()}),r(V,"mouseup",function(){e.removeClass("seekbardragged"),g.play()})),r(g,"canplaythrough",function(){i.preLoadAudioDone(e,d,"canplaythrough")}),r(g,"canplay",function(){i.preLoadAudioDone(e,d,"canplay")}),r(g,"progress",function(){i.preLoadAudioDone(e,d,"progress")}),r(g,"timeupdate",function(){var t=100/g.duration*g.currentTime,i=a(e.data("videoendat")),o=g.currentTime;if(void 0!=V&&(V.value=t),0!=i&&-1!=i&&Math.abs(i-o)<=.3&&i>o&&1!=e.data("nextslidecalled"))if(h){g.play();var r=a(e.data("videostartat"));-1!=r&&(g.currentTime=r)}else 1==e.data("nextslideatend")&&(e.data("nextslideatend-triggered",1),e.data("nextslidecalled",1),d.just_called_nextslide_at_htmltimer=!0,d.c.revnext(),setTimeout(function(){d.just_called_nextslide_at_htmltimer=!1},1e3)),g.pause()}),void 0!=L&&r(L,"change",function(){g.volume=L.value}),r(g,"play",function(){e.data("nextslidecalled",0);var a=e.data("volume");a=void 0!=a&&"mute"!=a?parseFloat(a)/100:a,i.is_mobile()||i.isSafari11()||(!0===d.globalmute?g.muted=!0:g.muted=!1,a>1&&(a/=100),"mute"==a?g.muted=!0:void 0!=a&&(g.volume=a)),e.addClass("videoisplaying");var o="html5"==v.audio?"audio":"video";p(e,d),b&&"audio"!=o?(d.videoplaying=!0,d.c.trigger("stoptimer"),d.c.trigger("revolution.slide.onvideoplay",n(g,"html5",v))):(d.videoplaying=!1,"audio"!=o&&d.c.trigger("starttimer"),d.c.trigger("revolution.slide.onvideostop",n(g,"html5",v))),t.TweenLite.to(e.find(".tp-videoposter"),.3,{autoAlpha:0,force3D:"auto",ease:t.Power3.easeInOut}),t.TweenLite.to(e.find(o),.3,{autoAlpha:1,display:"block",ease:t.Power3.easeInOut});var r=e.find(".tp-vid-play-pause")[0],l=e.find(".tp-vid-mute")[0];void 0!=r&&(r.innerHTML="Pause"),void 0!=l&&g.muted&&(l.innerHTML="Unmute"),i.toggleState(v.videotoggledby)}),r(g,"pause",function(a){var o="html5"==v.audio?"audio":"video";!u()&&e.find(".tp-videoposter").length>0&&"on"==e.data("showcoveronpause")&&!e.hasClass("seekbardragged")&&(t.TweenLite.to(e.find(".tp-videoposter"),.3,{autoAlpha:1,force3D:"auto",ease:t.Power3.easeInOut}),t.TweenLite.to(e.find(o),.3,{autoAlpha:0,ease:t.Power3.easeInOut})),e.removeClass("videoisplaying"),d.videoplaying=!1,c(e,d),"audio"!=o&&d.c.trigger("starttimer"),d.c.trigger("revolution.slide.onvideostop",n(g,"html5",e.data()));var r=e.find(".tp-vid-play-pause")[0];void 0!=r&&(r.innerHTML="Play"),void 0!=d.currentLayerVideoIsPlaying&&d.currentLayerVideoIsPlaying.attr("id")!=e.attr("id")||i.unToggleState(v.videotoggledby)}),r(g,"ended",function(){s(),c(e,d),d.videoplaying=!1,c(e,d),"audio"!=m&&d.c.trigger("starttimer"),d.c.trigger("revolution.slide.onvideostop",n(g,"html5",e.data())),!0===e.data("nextslideatend")&&g.currentTime>0&&(1==!d.just_called_nextslide_at_htmltimer&&(e.data("nextslideatend-triggered",1),d.c.revnext(),d.just_called_nextslide_at_htmltimer=!0),setTimeout(function(){d.just_called_nextslide_at_htmltimer=!1},1500)),e.removeClass("videoisplaying")})},p=function(e,t){void 0==t.playingvideos&&(t.playingvideos=new Array),e.data("stopallvideos")&&void 0!=t.playingvideos&&t.playingvideos.length>0&&(t.lastplayedvideos=jQuery.extend(!0,[],t.playingvideos),jQuery.each(t.playingvideos,function(e,a){i.stopVideo(a,t)})),t.playingvideos.push(e),t.currentLayerVideoIsPlaying=e},c=function(e,t){void 0!=t.playingvideos&&jQuery.inArray(e,t.playingvideos)>=0&&t.playingvideos.splice(jQuery.inArray(e,t.playingvideos),1)}});